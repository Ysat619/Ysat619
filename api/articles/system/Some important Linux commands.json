{"title":"一些好用但鲜为人知的 Linux 命令","uid":"5e7254d63639ed21d8e1e8e2812eb98c","slug":"system/Some important Linux commands","date":"2022-07-08T03:15:20.000Z","updated":"2022-07-14T04:43:58.290Z","comments":true,"path":"api/articles/system/Some important Linux commands.json","keywords":null,"cover":null,"content":"<h2 id=\"系统监视\"><a href=\"#系统监视\" class=\"headerlink\" title=\"系统监视\"></a>系统监视</h2><h3 id=\"Uptime\"><a href=\"#Uptime\" class=\"headerlink\" title=\"Uptime\"></a>Uptime</h3><p>Uptime会返回<strong>服务器运行时长</strong>、<strong>当前时间</strong>、<strong>用户数量</strong>和<strong>内存使用平均数</strong>等信息。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ <span class=\"hljs-built_in\">uptime</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"Wall\"><a href=\"#Wall\" class=\"headerlink\" title=\"Wall\"></a>Wall</h3><p>Wall可以向当前登录到系统的每个人的终端发送消息</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ wall <span class=\"hljs-string\">&quot;Your message&quot;</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"Top\"><a href=\"#Top\" class=\"headerlink\" title=\"Top\"></a>Top</h3><p>实时显示 CPU 和内存使用情况的进程列表。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ top<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"lsof\"><a href=\"#lsof\" class=\"headerlink\" title=\"lsof\"></a>lsof</h3><p>lsof是一个单一的命令，用于一个基本的目的：<strong>L</strong>i<strong>s</strong>t <strong>O</strong>pen <strong>F</strong>iles。这在遇到说文件被使用的挂载问题时特别有用。这个命令可以快速识别哪些文件被哪些进程使用。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">$ lsof<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"网络\"><a href=\"#网络\" class=\"headerlink\" title=\"网络\"></a>网络</h2><h3 id=\"Netcat\"><a href=\"#Netcat\" class=\"headerlink\" title=\"Netcat\"></a>Netcat</h3><p><code>Netcat</code>、<code>nc</code>主要用于端口扫描，但实际上是一个伟大的实用网络工具，可供系统管理员在他们的后袋中用于任何任务。Netcat可以支持端口扫描、文件复制、端口转发、代理服务器和托管服务器……可以说，它的功能非常全面。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># Example Usage:</span><br>$ nc -vz &lt;host&gt; &lt;port&gt; <span class=\"hljs-comment\"># 检查给定端口上两个主机之间的连接</span><br>$ nc -l 8080 | nc &lt;host&gt; 80 <span class=\"hljs-comment\"># 创建一个代理服务器</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"Netstat\"><a href=\"#Netstat\" class=\"headerlink\" title=\"Netstat\"></a>Netstat</h3><p>Netstat返回各种网络的详细信息，如路由表（routing tables）、网络连接（network connections）、成员资格（memberships）、统计信息（stats）、标志（flags）等。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># Example Usage </span><br>$ netstat -a <span class=\"hljs-comment\"># 查看所有网络端口</span><br>$ netstat -tlpn <span class=\"hljs-comment\"># 查看所有监听中的端口</span><br><br><span class=\"hljs-comment\"># Key Flags</span><br>-s = display networking statistics<br>-v = be verbose<br>-r = show routing tables<br>-i = display interface table<br>-g = show group memeberships<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"Nslookup\"><a href=\"#Nslookup\" class=\"headerlink\" title=\"Nslookup\"></a>Nslookup</h3><p>用于获取网络或本地的服务器信息。它查询DNS以找到服务器信息，这对网络调试很有用。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># Example Usage</span><br>$ nslookup bilibili.com<br>Server:\t\t183.60.83.19<br>Address:\t183.60.83.19<span class=\"hljs-comment\">#53</span><br>Non-authoritative answer:<br>Name:\tbilibili.com<br>Address: 47.103.24.173<br>Name:\tbilibili.com<br>Address: 139.159.241.37<br>Name:\tbilibili.com<br>Address: 120.92.78.97<br>Name:\tbilibili.com<br>Address: 119.3.70.188<br>Name:\tbilibili.com<br>Address: 8.134.50.24<br><span class=\"hljs-comment\"># Key Flags</span><br>-port = Change port number <span class=\"hljs-keyword\">for</span> connection<br>-<span class=\"hljs-built_in\">type</span> = Change <span class=\"hljs-built_in\">type</span> of query. <br>-domain = Sets search list to name<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"TCPDump\"><a href=\"#TCPDump\" class=\"headerlink\" title=\"TCPDump\"></a>TCPDump</h3><p>用于捕获和分析进出你的系统的流量。它是一个强大的多功能工具，专门用于调试和排除网络问题，但也可以作为一个安全工具使用。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># Example Usage</span><br>$ tcpdump<br>$ tcpdump -i &lt;interface&gt; &lt;ipaddress or hostname&gt; &lt;port&gt;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h2><h3 id=\"rsync\"><a href=\"#rsync\" class=\"headerlink\" title=\"rsync\"></a>rsync</h3><p>用于将文件和目录复制到目的地，类似于<code>cp</code>命令。但是，它也允许复制到远程位置，并且可以提供进度条，这通常用于备份</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># Example Usage</span><br>$ rsync -vap --ignore-existing &lt;source_file&gt; &lt;destination_file&gt;<br><br><span class=\"hljs-comment\">#  Key flags:</span><br>v = verbrose<br>r = recursive<br>p = preserve permissions<br>g = group<br>o = owner<br>a = archive<br>--progress = progresss bar<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"screen\"><a href=\"#screen\" class=\"headerlink\" title=\"screen\"></a>screen</h3><p>如果你需要在远程运行一个长时间的任务（如系统备份、ftp 传输等等），用 screen 就不用担心 SSH 会话中断而导致的任务中断了，Screen 会在断开连接的情况下继续运行你的命令！</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># Example Usage</span><br>$ screen <span class=\"hljs-comment\"># 启动一个 screen 会话</span><br>$ screen -<span class=\"hljs-built_in\">ls</span> <span class=\"hljs-comment\"># 显示正在运行中的服务</span><br>$ screen -r <span class=\"hljs-comment\"># 连接会话</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"date\"><a href=\"#date\" class=\"headerlink\" title=\"date\"></a>date</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 将Unix timestamp转换为人类可读的日期形式</span><br>$ <span class=\"hljs-built_in\">date</span> --<span class=\"hljs-built_in\">date</span> @1657252922<br>Fri Jul  8 12:02:02 CST 2022<br><br><span class=\"hljs-comment\"># 获取当前的时间戳</span><br>$ <span class=\"hljs-built_in\">date</span> <span class=\"hljs-string\">&quot;+%s&quot;</span><br>1657252922<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"systemd\"><a href=\"#systemd\" class=\"headerlink\" title=\"systemd\"></a>systemd</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 列出所有Systemd服务</span><br>$ systemctl -l -t service | less<br></code></pre></td></tr></table></figure>\n","text":"系统监视UptimeUptime会返回服务器运行时长、当前时间、用户数量和内存使用平均数等信息。 1$ uptime WallWall可以向当前登录到系统的每个...","link":"","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"操作系统","slug":"操作系统","count":2,"path":"api/categories/操作系统.json"}],"tags":[{"name":"linux","slug":"linux","count":2,"path":"api/tags/linux.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%B3%BB%E7%BB%9F%E7%9B%91%E8%A7%86\"><span class=\"toc-text\">系统监视</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Uptime\"><span class=\"toc-text\">Uptime</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Wall\"><span class=\"toc-text\">Wall</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Top\"><span class=\"toc-text\">Top</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#lsof\"><span class=\"toc-text\">lsof</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BD%91%E7%BB%9C\"><span class=\"toc-text\">网络</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Netcat\"><span class=\"toc-text\">Netcat</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Netstat\"><span class=\"toc-text\">Netstat</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Nslookup\"><span class=\"toc-text\">Nslookup</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#TCPDump\"><span class=\"toc-text\">TCPDump</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%85%B6%E4%BB%96\"><span class=\"toc-text\">其他</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#rsync\"><span class=\"toc-text\">rsync</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#screen\"><span class=\"toc-text\">screen</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#date\"><span class=\"toc-text\">date</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#systemd\"><span class=\"toc-text\">systemd</span></a></li></ol></li></ol>","author":{"name":"Joshlee","slug":"blog-author","avatar":"/images/avatar.png","link":"/","description":"这个人很菜，什么也没有留下","socials":{}},"mapped":true,"hidden":false,"prev_post":{"title":"阿里云 ACP 云原生微服务","uid":"31cb8022faa8493f1aedc9b9cc8dea4f","slug":"examination/AliyunACP","date":"2022-07-27T00:59:03.000Z","updated":"2023-08-18T06:20:35.908Z","comments":true,"path":"api/articles/examination/AliyunACP.json","keywords":null,"cover":[],"text":" 考点总结 ","link":"","photos":[],"count_time":{"symbolsCount":7,"symbolsTime":"1 mins."},"categories":[{"name":"应试","slug":"应试","count":5,"path":"api/categories/应试.json"}],"tags":[{"name":"考证","slug":"考证","count":1,"path":"api/tags/考证.json"}],"author":{"name":"Joshlee","slug":"blog-author","avatar":"/images/avatar.png","link":"/","description":"这个人很菜，什么也没有留下","socials":{}}},"next_post":{"title":"Spring Security Note（TODO）","uid":"c86bf2873749be4c9a292e4ee1b5c907","slug":"backend/spring_security_note","date":"2022-06-05T07:34:41.000Z","updated":"2022-11-12T00:04:20.461Z","comments":true,"path":"api/articles/backend/spring_security_note.json","keywords":null,"cover":null,"text":" 简介Spring Security 是 Spring 家族中的一个安全管理框架。 一般 Web 应用需要进行认证和授权 认证：验证当前访问系统的是不是本系统的...","link":"","photos":[],"count_time":{"symbolsCount":366,"symbolsTime":"1 mins."},"categories":[{"name":"后端","slug":"后端","count":1,"path":"api/categories/后端.json"}],"tags":[{"name":"后端","slug":"后端","count":1,"path":"api/tags/后端.json"}],"author":{"name":"Joshlee","slug":"blog-author","avatar":"/images/avatar.png","link":"/","description":"这个人很菜，什么也没有留下","socials":{}}}}